!! Building configuration
!! IOS XR Configuration 24.3.2
!! Last configuration change at Thu Mar 20 20:48:46 2025 by admin
!
hostname RouteServer
banner motd %
*********************************************************
*                                                       *
*                   NaaS VirtualLab                     *
*                                                       *
*********************************************************
%
username admin
 group root-lr
 group cisco-support
 secret 10 $6$QV8uZ1cWStcLCZ1.$/Szlc2yABk1hQI82c8cfWfwd.sZU30WwtjP.EWJyNSG.NtpP.323/468m4fi5KFsmH2zRWYY.gArKk/n95T9K/
!
interface Loopback0
 ipv4 address 6.0.3.17 255.255.255.255
 ipv6 address fcdd:dd00:3ee::1/128
!
interface MgmtEth0/RP0/CPU0/0
 ipv4 address 172.16.255.5 255.255.255.192
!
interface GigabitEthernet0/0/0/0
 description "to AGG1-Gi0/0/0/4"
 ipv4 point-to-point
 ipv4 unnumbered Loopback0
 ipv6 enable
 lldp
  enable
 !
!
prefix-set naas-cpe-locator
  fcdd:dd00:301::/48
end-set
!
prefix-set legal-ipv6-prefix
  2222::/16 ge 16,
  2002::/16 ge 16,
  2001::/16 ge 16
end-set
!
route-policy legalv6
  if destination in legal-ipv6-prefix then
    pass
  endif
end-policy
!
route-policy pass-all
  pass
end-policy
!
route-policy combined-policy
  if destination in naas-cpe-locator then
    delete prefix-sid 
  else
    pass
  endif
end-policy
!
route-policy set-next-hop-3434
  if destination in (2222:3434::1/128) then
    set next-hop 2002:300:33::3
    pass
  endif
  pass
end-policy
!
route-policy set-next-hop-pass-all
  if destination in (2222:3434::1/128) then
    set next-hop 2002:300:33::3
    pass
  endif
  pass
end-policy
!
router isis BELL
 is-type level-1
 net 49.0001.fccc.cc00.0311.00
 log adjacency changes
 address-family ipv4 unicast
  metric-style wide
  advertise passive-only
  spf-interval initial-wait 50 secondary-wait 150 maximum-wait 5000
  maximum-paths 64
  router-id Loopback0
  segment-routing mpls sr-prefer
 !
 address-family ipv6 unicast
  metric-style wide
  advertise passive-only
  spf-interval initial-wait 50 secondary-wait 150 maximum-wait 5000
  maximum-paths 64
  router-id Loopback0
 !
 interface Loopback0
  passive
  address-family ipv4 unicast
   prefix-sid index 17
  !
  address-family ipv6 unicast
  !
 !
 interface Loopback100
  passive
  address-family ipv6 unicast
  !
 !
 interface GigabitEthernet0/0/0/0
  point-to-point
  hello-padding disable
  address-family ipv4 unicast
  !
  address-family ipv6 unicast
  !
 !
!
router bgp 64577
 bfd multiplier 3
 bgp router-id 6.0.3.17
 bgp update-delay 5
 address-family ipv4 unicast
 !
 address-family ipv6 unicast
 !
 neighbor cafe::/16
  remote-as 111
  bfd fast-detect
  bfd multiplier 3
  bfd minimum-interval 300
  ebgp-multihop 5
  password encrypted 00061416145E0E14
  update-source Loopback100
  address-family ipv6 unicast
   route-policy legalv6 in
   encapsulation-type srv6
   route-policy legalv6 out
   soft-reconfiguration inbound always
   next-hop-unchanged
  !
 !
 neighbor 2002:300:33::2
  remote-as 111
  bfd fast-detect
  bfd multiplier 3
  bfd minimum-interval 300
  ebgp-multihop 5
  password encrypted 00061416145E0E14
  update-source Loopback0
  address-family ipv6 unicast
   route-policy pass-all in
   encapsulation-type srv6
   route-policy pass-all out
   soft-reconfiguration inbound always
   next-hop-unchanged
  !
 !
 neighbor fccc:cc00:6611::1
  remote-as 64577
  description to iRRv6
  update-source Loopback0
  address-family ipv6 unicast
   encapsulation-type srv6
  !
 !
!
ssh server v2
ssh server netconf vrf default
end
